
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Parameter from URL</h1>
  <p id="aaccessCode"></p>

  <div id="result"></div>

  <script>
    // URL에서 파라메터 가져오기
    const urlParams = new URLSearchParams(window.location.search);
    const query = urlParams.get('code');
    
    // 가져온 파라메터를 HTML에 표시
    document.getElementById('aaccessCode').textContent = `Query parameter: ${query}`;


    fetch('https://wsuvxybai0.execute-api.ap-northeast-2.amazonaws.com/prod/auth?code=${query}', {
      method: 'GET'
    })
    .then(response => response.json())
    .then(data =>  
        {document.getElementById('result').textContent = `Success: ${JSON.stringify(data)}`}
        )
    .catch(error => console.error('Error:', error));



  </script>
</body>
</html>